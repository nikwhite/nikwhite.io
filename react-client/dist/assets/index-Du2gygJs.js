import{j as e,r as u,c as E0}from"./client-BCr4-QWM.js";function T0(){return e.jsx("svg",{className:"icon-codepen",viewBox:"0 0 32 32",children:e.jsx("path",{d:"M32 10.909l-0.024-0.116-0.023-0.067c-0.013-0.032-0.024-0.067-0.040-0.1-0.004-0.024-0.020-0.045-0.027-0.067l-0.047-0.089-0.040-0.067-0.059-0.080-0.061-0.060-0.080-0.060-0.061-0.040-0.080-0.059-0.059-0.053-0.020-0.027-14.607-9.772c-0.463-0.309-1.061-0.309-1.523 0l-14.805 9.883-0.051 0.053-0.067 0.075-0.049 0.060-0.067 0.080c-0.027 0.023-0.040 0.040-0.040 0.061l-0.067 0.080-0.027 0.080c-0.027 0.013-0.027 0.053-0.040 0.093l-0.013 0.067c-0.025 0.041-0.025 0.081-0.025 0.121v9.996c0 0.059 0.004 0.12 0.013 0.18l0.013 0.061c0.007 0.040 0.013 0.080 0.027 0.115l0.020 0.067c0.013 0.036 0.021 0.071 0.036 0.1l0.029 0.067c0 0.013 0.020 0.053 0.040 0.080l0.040 0.053c0.020 0.013 0.040 0.053 0.060 0.080l0.040 0.053 0.053 0.053c0.013 0.017 0.013 0.040 0.040 0.040l0.080 0.056 0.053 0.040 0.013 0.019 14.627 9.773c0.219 0.16 0.5 0.217 0.76 0.217s0.52-0.080 0.76-0.24l14.877-9.875 0.069-0.077 0.044-0.060 0.053-0.080 0.040-0.067 0.040-0.093 0.021-0.069 0.040-0.103 0.020-0.060 0.040-0.107v-10c0-0.067 0-0.127-0.021-0.187l-0.019-0.060 0.059 0.004zM16.013 19.283l-4.867-3.253 4.867-3.256 4.867 3.253zM14.635 10.384l-5.964 3.987-4.817-3.221 10.781-7.187zM6.195 16.028l-3.443 2.307v-4.601zM8.671 17.695l5.964 3.987v6.427l-10.781-7.188 4.824-3.223zM17.387 21.681l5.965-3.973 4.817 3.227-10.783 7.187zM25.827 16.041l3.444-2.293v4.608zM23.353 14.388l-5.964-3.988v-6.44l10.78 7.187-4.816 3.22z"})})}function M0(){return e.jsx("svg",{className:"icon-github",viewBox:"0 0 32 32",children:e.jsx("path",{d:"M16 0.396c-8.84 0-16 7.164-16 16 0 7.071 4.584 13.067 10.94 15.18 0.8 0.151 1.093-0.344 1.093-0.769 0-0.38-0.013-1.387-0.020-2.72-4.451 0.965-5.389-2.147-5.389-2.147-0.728-1.847-1.78-2.34-1.78-2.34-1.449-0.992 0.112-0.972 0.112-0.972 1.607 0.112 2.451 1.648 2.451 1.648 1.427 2.447 3.745 1.74 4.66 1.331 0.144-1.035 0.556-1.74 1.013-2.14-3.553-0.4-7.288-1.776-7.288-7.907 0-1.747 0.62-3.173 1.647-4.293-0.18-0.404-0.72-2.031 0.14-4.235 0 0 1.34-0.429 4.4 1.64 1.28-0.356 2.64-0.532 4-0.54 1.36 0.008 2.72 0.184 4 0.54 3.040-2.069 4.38-1.64 4.38-1.64 0.86 2.204 0.32 3.831 0.16 4.235 1.020 1.12 1.64 2.547 1.64 4.293 0 6.147-3.74 7.5-7.3 7.893 0.56 0.48 1.080 1.461 1.080 2.96 0 2.141-0.020 3.861-0.020 4.381 0 0.42 0.28 0.92 1.1 0.76 6.401-2.099 10.981-8.099 10.981-15.159 0-8.836-7.164-16-16-16z"})})}function L0(){return e.jsx("svg",{className:"icon-linkedin",viewBox:"0 0 32 32",children:e.jsx("path",{fill:"#0077b5",d:"M27.263 27.269h-4.739v-7.425c0-1.771-0.036-4.049-2.469-4.049-2.471 0-2.848 1.927-2.848 3.919v7.556h-4.739v-15.269h4.552v2.081h0.061c0.636-1.2 2.183-2.467 4.493-2.467 4.801 0 5.689 3.16 5.689 7.273zM7.116 9.911c-1.525 0-2.751-1.235-2.751-2.753 0-1.517 1.227-2.751 2.751-2.751 1.52 0 2.752 1.233 2.752 2.751 0 1.519-1.233 2.753-2.752 2.753zM9.492 27.269h-4.752v-15.269h4.752zM29.633 0h-27.272c-1.305 0-2.361 1.032-2.361 2.305v27.389c0 1.275 1.056 2.305 2.361 2.305h27.268c1.304 0 2.371-1.031 2.371-2.305v-27.389c0-1.273-1.067-2.305-2.371-2.305z"})})}function R0(){return e.jsx("svg",{className:"icon-imgur",viewBox:"0 0 32 32",children:e.jsx("path",{fill:"#1bb76e",d:"M28.196 4.057c-0.003-0.151-0.092-0.243-0.252-0.255-0.149-0.018-0.383-0.039-0.619-0.056l-0.061-0.004-0.216-0.013c-0.409-0.030-0.912-0.052-1.419-0.061l-0.027-0-0.289-0.007c-0.229-0.004-0.467-0.005-0.709-0.005l-0.252-0.001c-0.393 0-0.801 0.004-1.225 0.013l-0.141 0.004c-0.491 0.011-0.896 0.023-1.301 0.039l0.141-0.004-0.316 0.012c-0.447 0.017-0.901 0.039-1.369 0.065l-0.016 0.001c-0.476 0.028-0.965 0.060-1.46 0.095l-0.367 0.028c-0.405 0.031-0.812 0.064-1.227 0.101l-0.333 0.028c-0.507 0.047-1.021 0.099-1.541 0.153-0.107 0.012-0.215 0.025-0.323 0.036-0.425 0.047-0.855 0.097-1.287 0.151l-0.44 0.056c-0.537 0.068-1.075 0.14-1.616 0.219-0.076 0.011-0.146 0.032-0.21 0.062l0.004-0.002c-0.051 0.025-0.094 0.058-0.129 0.098l-0 0-0.004 0.003c-0.060 0.073-0.063 0.16 0.005 0.239 0.004 0.005 0.003 0.011 0.007 0.016l4.651 4.608-8.839 8.795c-0.092 0.089-0.091 0.22 0 0.335 1.141 1.457 1.92 2.391 2.857 3.323 0.932 0.937 1.864 1.715 3.324 2.857 0.047 0.040 0.108 0.066 0.175 0.068h0.001c0.062-0 0.118-0.026 0.159-0.068l0-0 8.796-8.839 4.607 4.651c0.034 0.037 0.081 0.061 0.134 0.063h0c0.128 0 0.249-0.157 0.283-0.389 0.995-6.855 1.176-13.401 0.845-16.413zM21.16 32l8.717-8.717-0.008-0.008c0.572-0.608 0.966-1.39 1.093-2.259l0.003-0.023c1.072-7.373 1.204-14.121 0.872-17.269-0.079-0.948-0.489-1.789-1.112-2.416l0 0c-0.629-0.629-1.469-1.048-2.405-1.139l-0.016-0.001c-1.027-0.112-2.336-0.168-3.88-0.168-3.999 0-8.889 0.379-13.417 1.036-1.003 0.143-1.874 0.622-2.513 1.318l-0.003 0.003-8.491 8.492v21.151zM23.197 23.057c-0.201 0-0.751 0.54-0.751 0.817 0 0 0 0 0 0 0 0.073-0.059 0.133-0.132 0.133h-0c-0.073-0.001-0.132-0.060-0.132-0.133 0 0 0 0 0 0v0c0-0.277-0.548-0.817-0.751-0.817-0.073-0.001-0.132-0.060-0.132-0.133 0 0 0 0 0 0v0c0-0.072 0.059-0.131 0.132-0.131 0.203 0 0.751-0.539 0.751-0.819 0-0.073 0.059-0.131 0.132-0.131 0.072 0 0.132 0.057 0.132 0.131 0 0.28 0.549 0.819 0.751 0.819 0.065 0.010 0.115 0.065 0.115 0.132s-0.049 0.122-0.114 0.132l-0.001 0zM7.2 9.393c0.263 0 0.98-0.704 0.98-1.068 0.001-0.094 0.077-0.171 0.171-0.172h0c0.095 0 0.171 0.077 0.171 0.172 0 0.363 0.717 1.068 0.98 1.068 0.095 0 0.171 0.076 0.171 0.171s-0.076 0.171-0.171 0.171v0c-0.263 0-0.98 0.704-0.98 1.068 0 0.094-0.076 0.171-0.171 0.171v0c-0.094 0-0.171-0.076-0.171-0.171v0c0-0.364-0.717-1.068-0.98-1.068-0.094 0-0.171-0.076-0.171-0.171s0.076-0.171 0.171-0.171v0zM1.88 13.74c0-0.087 0.076-0.131 0.159-0.157 0.92-0.304 1.692-1.067 1.871-2.072 0.015-0.085 0.071-0.157 0.157-0.157 0.088 0 0.143 0.072 0.159 0.157 0.177 1.005 0.948 1.768 1.868 2.072 0.083 0.027 0.157 0.071 0.157 0.157s-0.075 0.131-0.157 0.159c-0.92 0.303-1.692 1.065-1.871 2.071-0.015 0.085-0.071 0.159-0.159 0.159-0.087 0-0.141-0.072-0.157-0.159-0.179-1.005-0.951-1.768-1.871-2.071-0.081-0.029-0.156-0.072-0.156-0.159zM3.967 26.149c-0.151 0-0.56 0.403-0.56 0.612 0 0.053-0.045 0.097-0.099 0.097 0 0 0 0 0 0-0.054 0-0.098-0.043-0.099-0.097v-0c0-0.209-0.409-0.612-0.56-0.612 0 0 0 0 0 0-0.054 0-0.098-0.043-0.099-0.097v-0c0-0.052 0.045-0.097 0.099-0.097 0.151 0 0.56-0.403 0.56-0.609 0-0.056 0.044-0.097 0.099-0.097 0.053 0 0.099 0.041 0.099 0.097 0 0.207 0.409 0.609 0.56 0.609 0.053 0 0.097 0.045 0.097 0.097 0 0.054-0.044 0.097-0.097 0.097v0zM4.724 22.087c-0.187 0-0.695 0.5-0.695 0.757 0 0.004 0.001 0.008 0.001 0.013 0 0.068-0.055 0.123-0.123 0.123s-0.123-0.055-0.123-0.123c0-0.005 0-0.009 0.001-0.013l-0 0.001c0-0.257-0.508-0.757-0.695-0.757-0 0-0.001 0-0.001 0-0.066 0-0.12-0.054-0.12-0.12 0 0 0 0 0 0v0c0-0.068 0.055-0.123 0.121-0.123 0.187 0 0.695-0.5 0.695-0.757 0 0 0-0 0-0 0-0.066 0.054-0.12 0.12-0.12 0.001 0 0.002 0 0.003 0h-0c0 0 0.001 0 0.001 0 0.066 0 0.12 0.054 0.12 0.12 0 0 0 0 0 0v0c0 0.257 0.508 0.757 0.695 0.757 0.067 0 0.121 0.054 0.121 0.121s-0.054 0.121-0.121 0.121v0zM9.169 27.929c-0.271 0-1.011 0.728-1.011 1.103 0 0.097-0.080 0.177-0.176 0.177-0.098 0-0.177-0.079-0.177-0.177v0c0-0.375-0.74-1.103-1.011-1.103-0.098-0.001-0.177-0.080-0.177-0.177v-0c0-0.097 0.079-0.176 0.177-0.176 0.272 0 1.011-0.727 1.011-1.104 0-0.095 0.080-0.176 0.177-0.176s0.176 0.081 0.176 0.176c0 0.377 0.74 1.104 1.011 1.104 0.099 0 0.177 0.079 0.177 0.176s-0.079 0.177-0.177 0.177v0zM11.732 26.855c-1.448-1.135-2.492-1.997-3.537-3.049-1.052-1.045-1.915-2.088-3.049-3.539-0.835-1.067-0.755-2.529 0.192-3.476l0.001-0.001 0.003-0.001 7.144-7.108-2.96-2.933c-0.693-0.693-0.933-1.693-0.629-2.611 0.197-0.596 0.619-1.069 1.156-1.399 0.142-0.094 0.305-0.179 0.477-0.247l0.018-0.006c0.18-0.076 0.39-0.137 0.608-0.172l0.016-0.002c0.007 0 0.012-0.004 0.019-0.005 4.472-0.651 9.295-1.024 13.233-1.024h0.003c1.5 0 2.763 0.055 3.757 0.161 0.625 0.061 1.204 0.332 1.637 0.768 0.437 0.441 0.7 1.023 0.749 1.649 0.324 3.081 0.192 9.671-0.868 16.952-0.001 0.013-0.008 0.021-0.009 0.033-0.049 0.293-0.132 0.555-0.248 0.8l0.008-0.018c-0.008 0.019-0.013 0.037-0.024 0.056-0.444 0.932-1.335 1.551-2.361 1.551-0.68 0-1.323-0.267-1.811-0.756l-0.004-0.003-0.005-0.005-2.923-2.953-7.113 7.148c-0.469 0.472-1.118 0.764-1.835 0.764-0.001 0-0.001 0-0.002 0h0c-0.587 0-1.169-0.201-1.641-0.572zM15.167 29.641c-0.185 0-0.691 0.497-0.691 0.755 0 0 0 0 0 0 0 0.066-0.054 0.12-0.12 0.12-0 0-0.001 0-0.001 0h0c-0.066 0-0.12-0.054-0.12-0.12v0c0-0.257-0.505-0.755-0.692-0.755-0.066 0-0.12-0.054-0.12-0.12s0.054-0.12 0.12-0.12v0c0.185 0 0.692-0.497 0.692-0.755 0-0.066 0.054-0.12 0.12-0.12v0c0.067 0 0.121 0.055 0.121 0.12 0 0.257 0.505 0.755 0.691 0.755 0.067 0 0.121 0.052 0.121 0.12s-0.053 0.12-0.121 0.12zM17.987 26.392c0.331 0 1.229-0.883 1.229-1.337 0-0.117 0.096-0.215 0.215-0.215 0.117 0 0.215 0.097 0.215 0.215 0 0.455 0.899 1.337 1.228 1.337 0.119 0 0.215 0.097 0.215 0.215 0 0 0 0.001 0 0.001 0 0.118-0.096 0.213-0.213 0.213-0 0-0.001 0-0.001 0h0c-0.329 0-1.228 0.883-1.228 1.34 0 0 0 0 0 0 0 0.119-0.096 0.215-0.215 0.216h-0c-0.119-0.001-0.215-0.097-0.215-0.216 0 0 0 0 0 0v0c0-0.457-0.899-1.34-1.229-1.34-0.119 0-0.215-0.096-0.215-0.215s0.096-0.215 0.215-0.215v0z"})})}const I0={codepen:"Codepen.io",linkedin:"LinkedIn",github:"Github",imgur:"Imgur"},P0={codepen:T0,linkedin:L0,github:M0,imgur:R0};function B({icon:t,url:n}){const r=P0[t];return e.jsx("a",{className:`iconLink ${t}-link`,href:n,title:I0[t],target:"_blank",rel:"noreferrer",children:r&&e.jsx(r,{})})}function A({onClick:t,disabled:n,children:r}){return e.jsx("button",{onClick:t,disabled:n||!1,children:e.jsx("pre",{children:r})})}const q=u.createContext({game:"",isMultiplayer:!1,setIsMultiplayer:()=>{},gameCode:"",setGameCode:()=>{},board:[[]],setGameBoard:()=>{},turn:"",setTurn:()=>{},playerTurn:"",setPlayerTurn:()=>{},playerID:"",setPlayerID:()=>{},dataChannel:null,shutdown:()=>{}}),U=new URL(window.location.href),A0=U.hash?.[0]==="#"?U.hash.substring(1):U.hash,[G0,o0,B0,i0]=A0.split(":");function z0(t){const n=t.name===G0&&!!o0,[r,s]=u.useState(!!n),[c,h]=u.useState(n?[o0,B0].join(":"):""),[a,o]=u.useState([[]]),[i,C]=u.useState(0),[b,j]=u.useState(n&&!i0?1:0),[d,p]=u.useState(i0||""),S=u.useRef(null);function y(){s(!1),h(""),p(""),document.location.hash=""}const g={game:t.name,isMultiplayer:r,setIsMultiplayer:s,gameCode:c,setGameCode:h,board:a,setBoard:o,turn:i,setTurn:C,playerTurn:b,setPlayerTurn:j,playerID:d,setPlayerID:p,dataChannel:S,shutdown:y};return e.jsx("section",{className:`game ${t.name}`,children:e.jsx(q.Provider,{value:g,children:t.children})})}function V(t){return e.jsx("pre",{className:"gameControls",children:t.children})}const O={Start:"Starting...",Fetching:"Fetching...",Error:"Error! Oh no!",Done:"Got game code"};function O0({shouldFetch:t=!1,game:n=""}){const[r,s]=u.useState(O.Start),[c,h]=u.useState(0),{gameCode:a,setGameCode:o,setPlayerID:i,setPlayerTurn:C,setTurn:b}=u.useContext(q);return u.useEffect(()=>{async function j(){if(!(r===O.Fetching||c>=5)){h(c+1),s(O.Fetching);try{let d=await fetch("/signal/gamecode",{method:"POST",accept:"application/json",credentials:"omit",cache:"no-store",body:JSON.stringify({game:n})});if(!d.ok)throw new Error(`Request for game code failed with ${d.status} ${d.statusText}`);let p=await d.json();if(p?.code&&p?.id){i(p.id),o(p.code),s(O.Done);return}throw new Error("Request for game code succeeded, but without code and/or ID")}catch(d){s(O.Error),console.error(d)}}}return t&&n&&!a&&j(),function(){t||h(0)}},[t,n,a,o,i,c,r,b,C]),r}const W0=["stun:stun1.l.google.com:19302","stun:stun4.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302"],$0=[{urls:W0}],D0={name:"ECDSA",namedCurve:"P-256"},F0=/^[a-zA-Z0-9+/=:]*$/;let W=null;function U0({game:t="",gameCode:n="",playerID:r="",shouldStart:s=!1,setPlayerID:c,playerTurn:h,dataChannel:a}){const o=u.useRef(null),i=u.useRef(null),[C,b]=u.useState(!1),[j,d]=u.useState(new Set),[p,S]=u.useState(""),[y,g]=u.useState(!1);return u.useEffect(()=>{const f=h===0;if(C&&!s){try{i.current?.close(),y0()}catch(l){console.error(l)}b(!1),d(new Set),S(""),g(!1);return}if(!t||!n||!s||C)return;async function x(){return W||(W=await RTCPeerConnection.generateCertificate(D0),W)}function v(){if(![t,n,r].map(F=>F0.test(F)).every(F=>F))return;const L=new URLSearchParams({game:t,code:n});return r&&L.set("id",r),new URL(`wss://localhost:3000/signal/connect?${L.toString()}`).href}function m(){if(j.size){for(const l of j)N(l);d(new Set)}}function N(l){i.current&&i.current.readyState===1?(console.log("Sending Websocket message",l),i.current.send(JSON.stringify(l))):(j.add(l),d(j),console.log("Websocket not ready for message: ",l),console.log("Message queue: ",j))}function w(l){console.log("Socket open",l),m()}function k(l){let L={};try{L=JSON.parse(l.data)}catch(c0){return console.error(c0)}L.id&&c(L.id),v0(L.offer),S0(L.answer)}function E(l){console.log("Socket closed",l),i.current.removeEventListener("open",w),i.current.removeEventListener("message",k),i.current.removeEventListener("error",E),i.current.removeEventListener("close",E),i.current=null}function M(){if(i.current)return i.current;try{return i.current=new WebSocket(v()),i.current.addEventListener("open",w),i.current.addEventListener("message",k),i.current.addEventListener("error",E),i.current.addEventListener("close",E),i.current}catch(l){console.error(l)}}async function v0(l){l&&(console.log("Got offer",l),o.current.setRemoteDescription(l))}async function S0(l){!l||o.current.signalingState==="stable"||(console.log("Got answer",l),o.current.setRemoteDescription(l))}async function Y(){const l=await o.current.createOffer();o.current.setLocalDescription(l),console.log("Created offer",l),N({offer:l}),g(!0)}async function e0(){const l=await o.current.createAnswer();o.current.iceGatheringState!=="complete"&&(l.type="pranswer"),o.current.setLocalDescription(l),console.log("Sending answer",l),N({answer:l})}function w0(){return f&&!y&&o.current.iceGatheringState==="complete"&&o.current.signalingState==="have-local-offer"}function C0(){return!f&&o.current.iceGatheringState==="complete"&&o.current.signalingState==="have-local-pranswer"}function b0(){w0()?Y():C0()&&e0()}function t0(){console.log("ICE Gathering State changed to:",o.current.iceGatheringState),o.current.iceGatheringState==="complete"&&b0()}function n0(){console.log("Connection State changed to",o.current.connectionState),S(o.current.connectionState),f&&o.current.connectionState==="failed"&&Y()}function r0(){console.log("Signaling State changed to",o.current.signalingState),o.current.signalingState==="have-remote-offer"&&e0()}async function s0(){if(console.log("Negotiation needed"),!f)return;S("connecting");const l=await o.current.createOffer();o.current.setLocalDescription(l)}function y0(){o.current&&(o.current.removeEventListener("icegatheringstatechange",t0),o.current.removeEventListener("connectionstatechange",n0),o.current.removeEventListener("signalingstatechange",r0),o.current.removeEventListener("negotiationneeded",s0),o.current.close(),a.current?.close(),o.current=null)}function N0(){if(o.current)return o.current;try{o.current=new RTCPeerConnection({iceServers:$0,certificates:[W]}),o.current.addEventListener("icegatheringstatechange",t0),o.current.addEventListener("connectionstatechange",n0),o.current.addEventListener("signalingstatechange",r0),o.current.addEventListener("negotiationneeded",s0),a.current=o.current.createDataChannel("game",{negotiated:!0,id:0}),a.current.onclose=()=>{a.current.onclose=null,a.current=null}}catch(l){console.error(l)}}async function k0(){b(!0);try{await x(),M(),N0()}catch(l){console.error(l)}}k0()},[t,n,r,h,c,s,C,j,y]),{connectionStatus:p}}function _0(){const[t,n]=u.useState(!1),{isMultiplayer:r,setIsMultiplayer:s,gameCode:c,game:h,playerID:a,playerTurn:o,shutdown:i,setPlayerID:C,dataChannel:b}=u.useContext(q),j=O0({game:h,shouldFetch:!c&&r}),{connectionStatus:d}=U0({game:h,gameCode:c,playerID:a,setPlayerID:C,shouldStart:c&&r,playerTurn:o,dataChannel:b}),p=u.useRef(null);async function S(){try{document.location.hash=f(!0),await navigator.clipboard.writeText(x()),n(!0),setTimeout(()=>n(!1),4e3)}catch(v){console.error(v)}p.current.focus(),p.current.select()}function y(){s(!0)}function g(){i()}function f(v){let m=`${h}:${c}`;return v&&a?`${m}:${a}`:m}function x(){if(c)return`${window.location.origin}/#${f(!1)}`}return e.jsxs(e.Fragment,{children:[e.jsxs(A,{onClick:r?g:y,children:[r?"End":"Start"," Multiplayer"]}),e.jsx("div",{className:`shareUrl ${r&&"expandDown"}`,children:r&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{children:[e.jsx("span",{children:"Share URL"}),t&&e.jsx("em",{children:"Copied!"}),e.jsx("input",{readOnly:!0,className:"mono",ref:p,value:x()||j}),d&&e.jsx("span",{role:"status",children:d})]}),e.jsx(A,{onClick:S,disabled:!c,children:"Copy"})]})})]})}function X(t){return e.jsxs("pre",{className:"scoreboard",children:[t.children,e.jsx("div",{className:"player1",children:t.player1}),e.jsx("div",{className:"player2",children:t.player2})]})}function z({counter:t,counterLabel:n,active:r,team:s,score:c=0,turnActions:h}){const a=typeof t=="number",o=[];if(a)for(let i=1;i<=t;i++)o.push(e.jsx("b",{children:"â—"},i));return e.jsxs("div",{className:"scoreCard",role:"status",children:[e.jsxs("div",{className:"teamStats",children:[!!s&&e.jsx("h4",{className:"name",children:s}),a&&e.jsxs("figure",{className:"counter",children:[e.jsxs("figcaption",{children:[n,": ",t]}),e.jsx("div",{className:"dots",role:"presentation",children:o})]})]}),!c&&r&&h&&e.jsx("div",{className:"turnActions",children:h}),!!c&&e.jsx("div",{className:"score",children:e.jsx("strong",{children:c})})]})}const H0="https://github.com/nikwhite/nikwhite.io/blob/master/react-client/src/games/tictactoe.js",I="X",$="O",K0=[[0,0],[1,1],[2,2]],J0=[[2,0],[1,1],[0,2]];function a0(){return[["","",""],["","",""],["","",""]]}function _(t,n){for(let r=0;r<t.length;r++)if(t[r]!==n)return!1;return!0}function Q0(){const[t,n]=u.useState(a0()),[r,s]=u.useState(I),[c,h]=u.useState(""),[a,o]=u.useState([]);function i(){n(a0()),s(c===I?$:I),h(""),o([])}function C([g,f]){return t[g][f]}function b(g,f){const x=t.map(v=>v[g]);return _(x,f)}function j(g,f){return _(t[g],f)}function d(g,f){return _(g.map(C),f)}function p(g,f){let x=t.length-1,v=0;return(g===v||g===x)&&(f===v||f===x)||g===1&&f===1}function S(g,f,x){let v=j(g,x),m=b(f,x),N=!1,w=[];if(v&&w.push(`row-${g}-win`),m&&w.push(`col-${f}-win`),p(g,f)){let E=d(J0,x),M=d(K0,x);N=E||M,E&&w.push("diag-right-win"),M&&w.push("diag-left-win")}return{winner:v||m||N?x:!1,winnerTypes:w}}function y(g,f){if(c||t[g][f])return;t[g][f]=r;const x=S(g,f,r);s(r===I?$:I),h(x.winner),o(x.winnerTypes),n(t)}return e.jsxs(z0,{name:"ticTacToe",children:[e.jsxs("h3",{children:[e.jsx(B,{icon:"github",url:H0}),"TicTacToe"]}),e.jsxs(V,{children:[e.jsx(A,{onClick:i,children:"Reset"}),e.jsx(_0,{})]}),e.jsx(X,{player1:e.jsx(z,{active:r===I,turnActions:e.jsx("span",{children:I})}),player2:e.jsx(z,{active:r===$,turnActions:e.jsx("span",{children:$})}),children:e.jsx("b",{children:"Turn:"})}),e.jsx("table",{className:"ticTacToeBoard",children:e.jsx("tbody",{role:"status",className:a.join(" "),"aria-relevant":"all",children:t.map((g,f)=>e.jsx("tr",{children:g.map((x,v)=>e.jsx("td",{tabIndex:"0",role:"button","aria-label":"tic-tac-toe square","aria-disabled":!!x,onClick:()=>y(f,v),onKeyDown:m=>{(m.keyCode===13||m.keyCode===32)&&y(f,v)},children:x},`${f},${v}`))},f))})})]})}const q0="https://github.com/nikwhite/nikwhite.io/blob/master/react-client/src/games/connect4.js";function V0(t,n){this.row=t,this.col=n,this.color="",this.sameColorNeighbors={0:null,1:null,2:null,7:null,3:null,6:null,5:null,4:null}}const X0=6,Z0=7,R="pink",G="blue",l0="Wins",u0="Winner!",Y0=[[7,3],[1,5],[2,6],[0,4]];function h0(){let t=[];for(let n=0;n<X0;n++){let r=[];for(let s=0;s<Z0;s++)r[s]=new V0(n,s);t[n]=r}return t}function ee(t,n){let r=t.length-1;for(;r>=0;){if(!t[r][n].color)return t[r][n];r--}return null}function te(t,n){let r=t[n.row-1],s=t[n.row],c=t[n.row+1];return r=r?[r[n.col-1],r[n.col],r[n.col+1]]:[],s=[s[n.col-1],s[n.col+1]],c=c?[c[n.col-1],c[n.col],c[n.col+1]]:[],{0:r[0],1:r[1],2:r[2],7:s[0],3:s[1],6:c[0],5:c[1],4:c[2]}}function ne(t,n){return Object.entries(n).reduce((r,[s,c])=>(c&&c.color===t&&(r[s]=c),r),{})}function re(t){Object.entries(t.sameColorNeighbors).forEach(([n,r])=>{if(r&&r.color===t.color){n=Number(n);let s=n+(n<4?4:-4);r.sameColorNeighbors[s]=t}})}function K(t,n,r=[]){if(t.sameColorNeighbors[n]){let s=t.sameColorNeighbors[n];return r.push(s),K(s,n,r)}return r}function se(t){return Y0.reduce((n,[r,s])=>{if(t.sameColorNeighbors[r]||t.sameColorNeighbors[s]){let c=[...K(t,r),t,...K(t,s)];c.length>=4&&n.push(c)}return n},[])}function ce(){const[t,n]=u.useState(h0()),[r,s]=u.useState(R),[c,h]=u.useState([]),[a,o]=u.useState({[R]:0,[G]:0});function i(){n(h0()),h([])}function C(j){if(c.length)return;const d=ee(t,j);if(d&&!d.color){d.color=r;const p=te(t,d);d.sameColorNeighbors={...d.sameColorNeighbors,...ne(d.color,p)},re(d);const S=se(d);S.length&&(S.forEach(y=>{y.forEach(g=>g.winner=!0)}),a[r]++,o(a),h(S)),s(r===R?G:R),n(t)}}const b=e.jsx("strong",{children:"Your turn!"});return e.jsxs("div",{className:"connect4board",children:[e.jsxs("h3",{children:[e.jsx(B,{icon:"github",url:q0}),"Connect4"]}),e.jsx(V,{children:e.jsx(A,{onClick:i,children:"Reset"})}),e.jsx(X,{player1:e.jsx(z,{team:R,active:r===R,turnActions:b,counter:a[R],counterLabel:l0,score:c.length&&r!==R&&u0}),player2:e.jsx(z,{team:G,active:r===G,turnActions:b,counter:a[G],counterLabel:l0,score:c.length&&r!==G&&u0})}),e.jsx("div",{role:"grid",children:t.map((j,d)=>e.jsx("div",{className:"row",role:"row",children:j.map((p,S)=>e.jsx("div",{role:"gridcell",onClick:y=>C(S),className:`slot ${p.winner&&"winner"}`,children:p.color&&e.jsx("div",{className:p.color+"-token"})},`${d},${S}`))},d))})]})}function oe(t){return e.jsx("div",{className:`${t.color}-stone`})}const ie="https://github.com/nikwhite/nikwhite.io/blob/master/react-client/src/games/go.js",T="black",P="white",J="edge",d0="Captures",p0=5,f0=2,D={black:0,white:0};function H(t){return t===T?P:T}class ae{constructor(n,r){this.row=n,this.col=r,this.stone=null}setStone(n){this.stone=e.jsx(oe,{color:n})}removeStone(){this.stone=null}toKey(){return`${this.row},${this.col}`}getColor(){return this.stone&&this.stone.props.color}}function g0(t=p0){t=Number(t);let n=[];for(let r=0;r<t;r++){let s=[];for(let c=0;c<t;c++)s[c]=new ae(r,c);n[r]=s}return n}function Z(t,n){return[t[n.row-1]&&t[n.row-1][n.col],t[n.row][n.col+1],t[n.row+1]&&t[n.row+1][n.col],t[n.row][n.col-1]]}function x0(t,n){return n&&n.stone&&n.getColor()===t}function Q(t,n,r,s={}){let c=Z(t,n);if(s[n.toKey()]=n,c.some(o=>o&&!o.stone))return!0;let a=c.filter(x0.bind(this,r));for(let o=0;o<a.length;o++){let i=a[o],C=i.toKey();if(!s[C]&&Q(t,i,r,s))return!0}return!1}function j0(t,n,r,s){if(!n)return J;if(n.stone)return n.getColor();let c=t[n.row+r],h=c&&c[n.col+s];return j0(t,h,r,s)}function le(t,n){const r=Z(t,n).map((s,c)=>{let h=0,a=0;switch(c){case 0:h=-1;break;case 1:a=1;break;case 2:h=1;break;case 3:a=-1;break;default:throw new Error("Too many adjacent nodes")}return j0(t,s,h,a)}).reduce((s,c)=>(!s.color&&c!==J&&(s.color=c),c===s.color?s.nodes++:c===J&&s.edges++,s),{color:null,edges:0,nodes:0});return r.color&&r.edges+r.nodes===4?r:null}function ue(t,n){const r={[T]:n[T],[P]:n[P]};for(let s=0,c=t.length;s<c;s++)for(let h=0,a=t[s].length;h<a;h++){const o=t[s][h];if(!o.stone){const i=le(t,o);i&&r[i.color]++}}return r}function he(){const[t,n]=u.useState(0),[r,s]=u.useState(T),[c,h]=u.useState(p0),[a,o]=u.useState(g0(c)),[i,C]=u.useState({...D}),[b,j]=u.useState({...D});function d(){s(T),C({...D}),j({...D}),o(g0(c)),n(0)}function p(m){h(m.target.value)}function S(){j(ue(a,i))}function y(){n(f0),S()}function g(){let m=t+1;n(m),m>=f0?S():s(H(r))}function f(m=[],N){if(!m.length)return[];const w=N.reduce((k,E)=>{for(const M of m)if(E[M.toKey()]){k.push(...Object.values(E));break}return k},[]);for(const k of w)i[H(k.getColor())]++,k.removeStone();C(i)}function x(m){if(m.stone||t>=2)return;m.setStone(r);let N=H(r),w=[],k=Z(a,m).filter(x0.bind(this,N)).filter((E,M)=>(w[M]={},!Q(a,E,N,w[M])));if(!Q(a,m,r)&&!k.length)return m.removeStone();f(k,w),n(0),s(N),o(a)}const v=[e.jsx(A,{onClick:y,children:"Resign"},`${r}resign`),e.jsx(A,{onClick:g,children:"Pass"},`${r}pass`)];return e.jsxs("section",{className:"goGame",children:[e.jsxs("h3",{children:[e.jsx(B,{icon:"github",url:ie}),"Go"]}),e.jsxs(V,{children:[e.jsx("label",{htmlFor:"goBoardSizeSelect",children:"Board size:"}),e.jsxs("select",{id:"goBoardSizeSelect",value:c,onChange:p,children:[e.jsx("option",{value:"5",children:"5x5"}),e.jsx("option",{value:"9",children:"9x9"}),e.jsx("option",{value:"13",children:"13x13"}),e.jsx("option",{value:"17",children:"17x17"}),e.jsx("option",{value:"19",children:"19x19"})]}),e.jsx(A,{onClick:d,children:"Reset"})]}),e.jsx(X,{player1:e.jsx(z,{team:T,score:b[T],active:r===T,counter:i[T],counterLabel:d0,turnActions:v}),player2:e.jsx(z,{team:P,score:b[P],active:r===P,counter:i[P],counterLabel:d0,turnActions:v})}),e.jsx("div",{className:"goBoard",children:a.map((m,N)=>e.jsx("div",{className:"goRow",children:m.map(w=>e.jsx("div",{className:"goLiberty",onClick:()=>x(w),children:w.stone&&w.stone},w.toKey()))},N))})]})}function de(){return e.jsx("svg",{className:"docIcon",viewBox:"0 0 32 32",children:e.jsx("path",{d:"M16.707 0.707c-0.389-0.389-1.157-0.707-1.707-0.707h-12c-0.55 0-1 0.45-1 1v30c0 0.55 0.45 1 1 1h24c0.55 0 1-0.45 1-1v-18c0-0.55-0.318-1.318-0.707-1.707l-10.586-10.586zM26 30h-22v-28h10.974c0.091 0.015 0.263 0.086 0.338 0.14l10.549 10.549c0.054 0.075 0.125 0.247 0.14 0.338v16.974zM27 0h-6c-0.55 0-0.682 0.318-0.293 0.707l6.586 6.586c0.389 0.389 0.707 0.257 0.707-0.293v-6c0-0.55-0.45-1-1-1z"})})}const fe="/assets/nik250-DS8hqRrh.jpeg";function ge(){return e.jsxs("div",{className:"App",children:[e.jsxs("header",{className:"App-header container",children:[e.jsx("img",{src:fe,alt:"Portrait"}),e.jsxs("h1",{children:["Nik White",e.jsx("br",{}),e.jsx("span",{children:"Software Engineer, Polymath, Autodidact, INTP"})]})]}),e.jsxs("main",{className:"container",children:[e.jsx("p",{children:"I've been building things on the internet since I was a kid in the early 2000s. building forums and blogs for my gaming groups before building websites and office networks for small businesses and individuals in high school."}),e.jsx("p",{children:"After studying computer science and art at Northern Illinois University, I spent 8 years at JPMorgan Chase building more things on the internet as a lead software engineer: websites, a drag-and-drop component-based design system on a new chase.com CMS, a payment platform, and finally Chase Online Core Javascript Platform to build shared tools, patterns, and APIs."}),e.jsx("p",{children:"I joined Etsy in 2022 to join the mission: supporting independent makers and small businesses by keeping commerce human. I'm a Staff Software Engineer working on the Frontend Infrastructure team supporting all of our frontend tooling and in-house PHP Framework."}),e.jsx("p",{children:e.jsxs("a",{href:"https://docs.google.com/document/d/e/2PACX-1vQ38zIjQZFxu1urpmR6HCwuRCa_DRHpKbgAAge2KRuiDrmn_MjbRwEJ57QzUWtTvPvihvLf7EKO94T9/pub",target:"_blank",rel:"noreferrer",children:[e.jsx(de,{}),"View my resume"]})}),e.jsx("h2",{children:"Find me online"}),e.jsxs("ul",{className:"onlineLinks",children:[e.jsx("li",{children:e.jsx(B,{icon:"linkedin",url:"https://www.linkedin.com/in/nik-white-64631740/"})}),e.jsx("li",{children:e.jsx(B,{icon:"github",url:"https://github.com/nikwhite"})}),e.jsx("li",{children:e.jsx(B,{icon:"codepen",url:"https://codepen.io/nikwhite/pens/public"})})]}),e.jsxs("section",{className:"container",children:[e.jsx("h2",{children:"Games"}),e.jsxs("p",{children:["Local multiplayer only, for now... ",e.jsx("code",{children:":)"})]}),e.jsx("p",{children:"These are coding exercises for fun. Tap the Github icon to see the code."}),e.jsx(Q0,{}),e.jsx("div",{className:"game",children:e.jsx(ce,{})}),e.jsx("div",{className:"game",children:e.jsx(he,{})})]})]})]})}const m0=document.getElementById("root");m0?E0.createRoot(m0).render(e.jsx(u.StrictMode,{children:e.jsx(ge,{})})):console.error("Container element not found.");
